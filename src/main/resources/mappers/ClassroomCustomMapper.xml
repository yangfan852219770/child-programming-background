<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.child.programming.base.mapper.ClassroomCustomMapper" >
    <select id="getListOrBySchoolId" parameterType="java.util.Map" resultType="com.child.programming.education.manage.dto.ClassroomInfoDto">
        select c.id, c.code, c.max_capacity as maxCapacity, c.comment, c.create_time as createTime,
        s.id as schoolId, s.name as schoolName
        from classroom c
        INNER JOIN school as s
        where c.school_id=s.id
        and c.status=1 and s.status=1
        <if test="schoolId !=null">
            and s.id=#{schoolId}
        </if>
        ORDER BY c.create_time desc
    </select>
</mapper>